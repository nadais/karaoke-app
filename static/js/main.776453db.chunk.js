(this["webpackJsonpkaraoke-catalog-app-pwa"]=this["webpackJsonpkaraoke-catalog-app-pwa"]||[]).push([[0],{50:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),l=n.n(r),i=n(5),s=n(8),o=(n(47),n(48),n(1));var u=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),l=Object(i.a)(r,2),u=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(i.a)(j,2),f=b[0],O=b[1],h=Object(a.useState)([]),p=Object(i.a)(h,2),g=p[0],x=p[1],v=Object(a.useState)([]),m=Object(i.a)(v,2),S=m[0],k=m[1],N=Object(a.useState)([]),y=Object(i.a)(N,2),C=y[0],w=y[1],G=Object(a.useState)(void 0),A=Object(i.a)(G,2),R=A[0],M=A[1],z=Object(a.useState)(void 0),D=Object(i.a)(z,2),E=D[0],J=D[1],B=Object(a.useState)(null),F=Object(i.a)(B,2),I=(F[0],F[1]),K={backgroundColor:"#dedede",padding:10},L={width:"100%",padding:"10px 20px",borderRadius:20,outline:0,border:"2px #68bf40 solid",fontSize:"100%"},Q=function(e){u.setQuickFilter(e.target.value)};function W(){O(!0),fetch("https://karaoke-juliane.herokuapp.com/songs").then((function(e){return e.json()})).then((function(e){O(!1);var t=e.songGroups,n=t.flatMap((function(e){return e.catalogs})).filter((function(e,t,n){return n.indexOf(e)===t&&null!=e})),a=t.flatMap((function(e){return e.categories})).filter((function(e,t,n){return n.indexOf(e)===t&&null!=e}));k(n),w(a),x(e.songGroups),c(t)}))}function q(e,t){var n=null==e||""===e?g:g.filter((function(t){return t.catalogs.includes(e)}));return null!=t&&""!==t&&(n=n.filter((function(e){return e.categories.includes(t)}))),n}function H(e){var t=""===e.target.value?void 0:e.target.value;M(t),c(q(E,t))}return Object(a.useEffect)((function(){W()}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{align:"center",children:"Karaoke night"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:Object(o.jsxs)("select",{className:"form-select",name:"catalog",onChange:function(e){var t=""===e.target.value?void 0:e.target.value;J(t),c(q(t,R))},children:[Object(o.jsx)("option",{value:"",children:" Select catalog"}),S.map((function(e){return Object(o.jsx)("option",{value:e,children:e},e)}))]})}),Object(o.jsx)("div",{className:"col",children:Object(o.jsxs)("select",{className:"form-select",name:"catalog",onChange:H,children:[Object(o.jsx)("option",{value:"",children:" Select category"}),C.map((function(e){return Object(o.jsx)("option",{value:e,children:e},e)}))]})}),Object(o.jsxs)("div",{className:"col",children:[Object(o.jsx)("button",{onClick:W,className:"btn btn-primary",children:"Reload Songs"}),function(){if(f)return Object(o.jsx)("div",{className:"spinner-border",role:"status",children:Object(o.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}()]})]}),function(){if(n.length>0)return Object(o.jsx)("div",{style:K,children:Object(o.jsx)("input",{type:"search",style:L,onChange:Q,placeholder:"search songs..."})})}(),Object(o.jsx)("div",{className:"ag-theme-alpine",style:{height:1e3},children:Object(o.jsxs)(s.AgGridReact,{rowData:n,defaultColDef:{sortable:!0,resizable:!0,filter:!0},onGridReady:function(e){d(e.api),I(e.columnApi)},children:[Object(o.jsx)(s.AgGridColumn,{field:"number",sortable:!0,filter:!0,flex:1,minWidth:80}),Object(o.jsx)(s.AgGridColumn,{field:"name",sortable:!0,filter:!0,flex:4}),Object(o.jsx)(s.AgGridColumn,{field:"artist",sortable:!0,filter:!0,flex:2,sort:"asc"})]})})]})};l.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(u,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.776453db.chunk.js.map