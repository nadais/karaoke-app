(this["webpackJsonpkaraoke-catalog-app-pwa"]=this["webpackJsonpkaraoke-catalog-app-pwa"]||[]).push([[0],{50:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),i=n.n(r),l=n(5),s=n(8),o=(n(47),n(48),n(1));var u=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),f=b[0],h=b[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),g=p[0],x=p[1],v=Object(a.useState)([]),m=Object(l.a)(v,2),k=m[0],S=m[1],N=Object(a.useState)([]),y=Object(l.a)(N,2),C=y[0],w=y[1],G=Object(a.useState)(void 0),A=Object(l.a)(G,2),M=A[0],R=A[1],W=Object(a.useState)(void 0),z=Object(l.a)(W,2),D=z[0],E=z[1],J={backgroundColor:"#dedede",padding:10},B={width:"100%",padding:"10px 20px",borderRadius:20,outline:0,border:"2px #68bf40 solid",fontSize:"100%"},F=function(e){u.setQuickFilter(e.target.value)};function I(){h(!0),fetch("https://karaoke-juliane.herokuapp.com/songs").then((function(e){return e.json()})).then((function(e){h(!1);var t=e.songGroups,n=t.flatMap((function(e){return e.catalogs})).filter((function(e,t,n){return n.indexOf(e)===t&&null!=e})),a=t.flatMap((function(e){return e.categories})).filter((function(e,t,n){return n.indexOf(e)===t&&null!=e}));S(n),w(a),x(e.songGroups),c(t)}))}function K(e,t){var n=null==e||""===e?g:g.filter((function(t){return t.catalogs.includes(e)}));return null!=t&&""!==t&&(n=n.filter((function(e){return e.categories.includes(t)}))),n}function L(e){var t=""===e.target.value?void 0:e.target.value;R(t),c(K(D,t))}return Object(a.useEffect)((function(){I()}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{align:"center",children:"Karaoke night"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:Object(o.jsxs)("select",{className:"form-select",name:"catalog",onChange:function(e){var t=""===e.target.value?void 0:e.target.value;E(t),c(K(t,M))},children:[Object(o.jsx)("option",{value:"",children:" Select catalog"}),k.map((function(e){return Object(o.jsx)("option",{value:e,children:e},e)}))]})}),Object(o.jsx)("div",{className:"col",children:Object(o.jsxs)("select",{className:"form-select",name:"catalog",onChange:L,children:[Object(o.jsx)("option",{value:"",children:" Select category"}),C.map((function(e){return Object(o.jsx)("option",{value:e,children:e},e)}))]})}),Object(o.jsxs)("div",{className:"col",children:[Object(o.jsx)("button",{onClick:I,className:"btn btn-primary",children:"Reload Songs"}),function(){if(f)return Object(o.jsx)("div",{className:"spinner-border",role:"status",children:Object(o.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}()]})]}),function(){if(n.length>0)return Object(o.jsx)("div",{style:J,children:Object(o.jsx)("input",{type:"search",style:B,onChange:F,placeholder:"search songs..."})})}(),Object(o.jsx)("div",{className:"ag-theme-alpine",style:{height:1e3},children:Object(o.jsxs)(s.AgGridReact,{rowData:n,defaultColDef:{sortable:!0,resizable:!0,filter:!0,suppressMovable:!0},onGridReady:function(e){d(e.api)},children:[Object(o.jsx)(s.AgGridColumn,{field:"number",sortable:!0,filter:!0,flex:1,minWidth:80}),Object(o.jsx)(s.AgGridColumn,{field:"name",sortable:!0,filter:!0,flex:4,minWidth:250}),Object(o.jsx)(s.AgGridColumn,{field:"artist",sortable:!0,filter:!0,flex:2,sort:"asc",minWidth:170})]})})]})};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(u,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.c2ddd3d6.chunk.js.map