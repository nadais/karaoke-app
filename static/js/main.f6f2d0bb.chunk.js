(this["webpackJsonpkaraoke-catalog-app-pwa"]=this["webpackJsonpkaraoke-catalog-app-pwa"]||[]).push([[0],{69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(8),r=a.n(s),l=a(3),i=a(9),o=a(70),u=a(20),d=(a(61),a(62),a(1));function j(){var e=Object(u.b)(),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(o.a)(),r=s.t,j=s.i18n,b=Object(n.useState)([]),g=Object(l.a)(b,2),h=g[0],f=g[1],O=Object(n.useState)(null),p=Object(l.a)(O,2),x=p[0],m=p[1],v=Object(n.useState)(!1),k=Object(l.a)(v,2),N=k[0],S=k[1],C=Object(n.useState)([]),w=Object(l.a)(C,2),y=w[0],G=w[1],L=Object(n.useState)([]),A=Object(l.a)(L,2),M=A[0],R=A[1],E=Object(n.useState)([]),P=Object(l.a)(E,2),W=P[0],z=P[1],D=Object(n.useState)(void 0),F=Object(l.a)(D,2),J=F[0],B=F[1],I=Object(n.useState)(void 0),Q=Object(l.a)(I,2),T=Q[0],U=Q[1],V={backgroundColor:"#dedede",padding:10},q={width:"100%",padding:"10px 20px",borderRadius:20,outline:0,border:"2px #68bf40 solid",fontSize:"100%"},H=function(e){x.setQuickFilter(e.target.value)};function K(){S(!0),fetch("https://karaoke-juliane.herokuapp.com/songs").then((function(e){return e.json()})).then((function(e){S(!1);var t=e.songGroups,a=t.flatMap((function(e){return e.catalogs})).filter((function(e,t,a){return a.indexOf(e)===t&&null!=e})),n=t.flatMap((function(e){return e.categories})).filter((function(e,t,a){return a.indexOf(e)===t&&null!=e}));R(a),z(n),G(e.songGroups),f(t)}))}function X(e,t){var a=null==e||""===e?y:y.filter((function(t){return t.catalogs.includes(e)}));return null!=t&&""!==t&&(a=a.filter((function(e){return e.categories.includes(t)}))),a}function Y(e){var t=""===e.target.value?void 0:e.target.value;B(t),f(X(T,t))}function Z(e){var t=e.target.value,n=new URLSearchParams(a.toString());n.set("lang",t),c(n.toString()),j.changeLanguage(t)}function $(e){return r(e)}return Object(n.useEffect)((function(){var e=a.get("lang");null!=e&&j.changeLanguage(e),K()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("h1",{align:"center",children:r("title")})}),function(){var e={pt:"Portugu\xeas",en:"English"};return Object(d.jsx)("span",{children:Object(d.jsxs)("select",{name:"language",onChange:Z,children:[Object(d.jsxs)("option",{selected:!0,disabled:!0,children:[" ",r("selectLanguage")]}),Object.keys(e).map((function(t){return Object(d.jsx)("option",{value:t,children:e[t]},t)}))]})})}()]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col",children:Object(d.jsxs)("select",{className:"form-select",name:"catalog",onChange:function(e){var t=""===e.target.value?void 0:e.target.value;U(t),f(X(t,J))},children:[Object(d.jsx)("option",{value:"",children:r("selectCatalog")}),M.map((function(e){return Object(d.jsx)("option",{value:e,children:r("catalogs.".concat(e.toLowerCase()))},e)}))]})}),Object(d.jsx)("div",{className:"col",children:Object(d.jsxs)("select",{className:"form-select",name:"catalog",onChange:Y,children:[Object(d.jsxs)("option",{value:"",children:[" ",r("selectCategory")]}),W.map((function(e){return Object(d.jsx)("option",{value:e,children:r("categories.".concat(e.toLowerCase()))},e)}))]})}),Object(d.jsxs)("div",{className:"col",children:[Object(d.jsx)("button",{onClick:K,className:"btn btn-primary",children:r("reload")}),function(){if(N)return Object(d.jsx)("div",{className:"spinner-border",role:"status",children:Object(d.jsxs)("span",{className:"visually-hidden",children:[" ",r("loading")]})})}()]})]}),function(){if(h.length>0)return Object(d.jsx)("div",{style:V,children:Object(d.jsx)("input",{type:"search",style:q,onChange:H,placeholder:r("searchSongs")})})}(),Object(d.jsx)("div",{className:"ag-theme-alpine",style:{height:1e3},children:Object(d.jsxs)(i.AgGridReact,{rowData:h,defaultColDef:{sortable:!0,resizable:!0,filter:!0,suppressMovable:!0},localeTextFunc:$,onGridReady:function(e){m(e.api)},children:[Object(d.jsx)(i.AgGridColumn,{field:"number",headerName:$("number"),sortable:!0,filter:!0,flex:1,minWidth:80}),Object(d.jsx)(i.AgGridColumn,{field:"name",headerName:$("name"),sortable:!0,filter:!0,flex:4,minWidth:250}),Object(d.jsx)(i.AgGridColumn,{field:"artist",headerName:$("artist"),sortable:!0,filter:!0,flex:2,sort:"asc",minWidth:170})]})})]})}function b(){return Object(d.jsx)(u.a,{children:Object(d.jsx)(n.Suspense,{fallback:"loading",children:Object(d.jsx)(j,{})})})}var g=a(19),h=a(10),f=a(29),O=a(31);g.a.use(h.e).use(f.a).use(O.a).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/karaoke-app/locales/{{lng}}/{{ns}}.json"}});g.a;r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.f6f2d0bb.chunk.js.map